# 페이징과 세그멘테이션

### 가상 메모리란

* 가상 메모리는 물리 메모리(실제 메모리)의 크기와 상관없이 메모리를 이용할 수 있도록 지원하는 기술이다.
* 가상 메모리에서 메모리 관리자가 사용할 수 있는 메모리의 전체 크기는 물리 메모리(실제 메모리)와 스왑 영역(저장 장치)을 합한 크기다.
* 가상 메모리 시스템에서 메모리 관리자는 물리 메모리와 스왑 영역을 합쳐서 프로세스가 사용하는 가상 주소를 실제 메모리의 물리 주소로 변환하는데 이러한 작업을 __동적 주소 변환__ 이라고 한다.
* 동적 주소 변환을 거치면 프로세스가 아무 제약 없이 사용자의 데이터를 물리 메모리에 배치할 수 있다.
* 이 과정에서 메모리 관리자는 물리 메모리를 어떤 방법으로 나눌지, 사용자 프로세스를 어디에 배치할지, 부족한 물리 메모리를 어떻게 처리할지 등의 복잡한 문제를 처리한다.

<br>

### 가상 메모리의 메모리 분할 방식

가상 메모리 시스템은 운영체제를 제외한 나머지 메모리 영역을 일정한 크기로 나누어 프로세스에 할당한다.

__가상 메모리 시스템에서 가변 분할 방식을 이용한 메모리 관리 기법은 세그먼테이션, 
고정 분할 방식을 이용한 메모리 관리 기법은 페이징이라고 한다.__

<br>

## 페이징

페이징 기법은 고정 분할 방식을 이용한 가상 메모리 관리 기법으로, 물리 주소 공간을 같은 크기로 나누어 사용한다.

가상 주소의 분할된 각 영역은 __페이지__ 라고 부르며 첫 번째 영역은 페이지 0, 두 번째 영역은 페이지 1과 같이 번호를 매겨 관리한다.
 
물리 메모리의 각 영역은 가상 주소의 페이지와 구분하기 위해 __프레임__ 이라고 부른다.
프레임도 마찬가지로 번호를 매겨 관리하며, 페이지와 프레임의 크기는 같다.

모든 페이지의 위치 정보, 즉 어떤 페이지가 어떤 프레임에 있는지에 대한 연결(매핑) 정보는 페이지 테이블에 담겨져 있다.
내부 단편화가 발생할 수 있다.

![KakaoTalk_Photo_2023-05-24-22-30-38](https://github.com/hyeong-jun-kim/CS-Study/assets/76802855/9e8e04a6-2631-4569-bfe6-beafcc57fbd2)

<br>

## 세그멘테이션

세그멘테이션 기법은 가변 분할 방식을 이용한 가상 메모리 관리 기법으로, 물리 메모리를 프로세스의 크기에 따라 가변적으로 나누어 사용한다.

세그먼테이션 기법도 매핑 테이블을 사용하는데 이를 세그먼테이션 테이블 또는 세그먼테이션 매핑 테이블이라고 한다.
세그먼테이션 테이블에는 세그먼트의 크기를 나타내는 limit와 물리 메모리상의 시작 주소를 나타내는 address가 있다.
세그먼테이션 기법에서는 프로세스의 크기에 따라 메모리를 분할하기 때문에 매핑 테이블에 크기 정보를 포함한다.

* 세그먼테이션의 장점은 메모리를 프로세스 단위로 관리하기 때문에 페이지 테이블이 작고 단순하다.
* 단점은 물리 메모리의 외부 단편화로 인해 물리 메모리 관리가 복잡하다.

![KakaoTalk_Photo_2023-05-24-22-32-03](https://github.com/hyeong-jun-kim/CS-Study/assets/76802855/d0cb609b-466d-421f-9f58-bfca8854d147)

<br>
