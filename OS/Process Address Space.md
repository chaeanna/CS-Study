# 📒프로세스의 주소 공간
> <span style="color:grey">프로세스가 메모리를 할당 받으면, 자신만의 방법으로 메모리를 관리하기 위해 이 공간들을 어떤 구조로 관리하는데, 이를 **프로세스 주소 공간**이라고 부른다.</span>

![image](https://github.com/hyeong-jun-kim/CS-Study/assets/76768480/1ae43318-8697-4b00-8417-9863812e043f)
각각의 구역을 살펴보면,

## 1) Stack 영역
함수의 호출과 관계되는 <span style="color:skyblue">**지역 변수와 매개변수**</span>가 저장되는 영역이다. 함수의 호출과 함께 할당되며, 함수의 호출이 완료되면 소멸한다.

## 2) Heap 영역
**런타임에 크기가 결정되는 영역**이다. 사용자에 의해 공간이 동적으로 할당 및 해제된다.

## 3) Data 영역
전역 변수나 static 변수 등 프로그램이 사용할 수 있는 **데이터를 저장하는 영역**이다. 어떤 프로그램에 전역/static 변수를 참조하는 코드가 존재한다면, 이 프로그램은 컴파일 된 후에 data 영역을 참조하게 된다.

## 4) Text(Code)  영역
프로그램이 실행될 수 있도록 **CPU가 해석 가능한 기계어 코드가 저장되어 있는 영역**이다. 프로그램이 수정되면 안되므로 ReadOnly 상태로 저장된다.

## 🔥 구역을 나누는 이유는?
최대한 데이터를 공유하여 메모리 사용량을 줄이기 위해서이다. 
- Code : 같은 프로그램 자체에서는 모두 같은 내용이기 때문에 따로 관리하여 공유한다. 
    - 📌 같은 프로그램을 여러 개 띄울때 Code 영역을 공유할 수 있다.
- Stack, Data : 스택 구조의 특성과 전역 변수의 활용성을 위한 것이다.
    - 📌 프로그램의 함수와 지역 변수는 **LIFO(가장 나중에 들어간 게 먼저 나옴)** 특성을 가진 스택에서 실행된다. 이 함수들 안에서 공통 사용하는 `전역함수`는 따로 지정해주면 메모리를 아낄 수 있다.
